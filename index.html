<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Add an animated icon to the map</title>
    <meta
      name="viewport"
      content="initial-scale=1,maximum-scale=1,user-scalable=no" />
    <script src="https://api.mapbox.com/mapbox-gl-js/v1.11.1/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v1.11.1/mapbox-gl.css" rel="stylesheet"/>

    <link
      href="https://fonts.googleapis.com/css?family=PT+Sans"
      rel="stylesheet"
      type="text/css" />
    <link href="https://fonts.googleapis.com/css2?family=Recursive:wght@600&display=swap" rel="stylesheet">
    <style>
      body { margin: 0; padding: 0; }
      #map { position: fixed; top: 0; bottom: 0; width: 60%;}
      img { max-width: 100%; height: auto; padding: 3px; border: 1px solid #a2abb4;
         }
      iframe {
        width: 100%;        
      }
       @media (max-width: 800px) {
         #map {  width: 50%;}
      }
        
    </style>
     
  </head>

  <body>
    <style>
      #features {
        width: 40%;
        margin-left: 60%;
        font-family: "PT Sans", sans-serif;
        overflow-y: scroll;
        background-color: #BEE5EA;
        color: #516576;
      }
      h2 {
        text-align: center;
        font-family: "Josefin Sans", sans-serif;
      }
      h3 {
        text-align: center;
        font-family: "Josefin Sans", sans-serif;
        color: #52728e;
      }
      section {
        padding: 25px 50px;
        line-height: 25px;
        border-bottom: 1px solid #ddd;
        opacity: 0.25;
        font-size: 13px;
      }
      section.active {
        opacity: 1;
      }
      section:last-child {
        border-bottom: none;
        margin-bottom: 400px;
      }
      .fin {
        opacity: 0;
      }
      @media (max-width: 800px) {
      iframe {
        max-width: 100%;
        height: auto;
        
        }
      section {
        line-height: 15px;
        font-size: 10px;
        padding: 10px;
        }
       #features {
        width: 50%;
        margin-left: 50%; 
      }
    </style>

    <div id='map'></div> 
        <div id='features'>
        <section id='intro' class='active'>
        <h2>Tarihi Yarımada Okuma Kültürü Atlası</h2>
        
          Palimpsest kelimesini daha önce hiç duydun mu? Duymadıysan söyleyelim, çok eski zamanlarda kullanılan bir kâğıt türüdür. Bu kâğıdın özelliği 
          üzerine tekrar tekrar yazı yazılmasıdır. Dikkatli ve meraklı bir okur, palimpsestin üzerinde yazılan eski hikâyelerden parçalar okuyabilir. 
          Kentlerimiz de biraz palimpsestler gibidir. Zamanla değişip dönüşse de içinde yüzyılların izlerini barındırır.
          
          İstanbul'u Okuyorum projesi kapsamında hazırlanan bu harita, İstanbul'un tarihi çekirdeği Tarihi Yarımada'da hepimizin bildiği ve insanlığın ortak 
          mirasına dönüşmüş yapıların okuma kültürü ile ilişkisini ortaya koyuyor. Okuma kültürü ve kent kültürünün içiçe geçtiği ve birbirini yarattığı anların 
          hafızasını topluyor. İstanbul'u bir palimpsest gibi okumayı öneriyor.
          
          Proje kapsamında hazırlanan basılı harita üzerinde gösterilen yapılarla ilgili detaylı bilgiye bu site üzerinden ulaşabilirsiniz. 
 
          </p>
          </section>
          
          </p>
          </section>

  <h2> Okuma Kültürü Rotası <h2>
            <p>
           
           İstanbul’un tarihi masal, efsane ve ilham dolu. Tarihi Yarımada’yı anlatan birçok kitap var. Üstelik bu kitapları tarihi kütüphanelerde okumak çok zevkli. 
           Tarihi Yarımada’daki kütüphanelerde ilgi çekecek kitaplar, el yazmaları ve minyatürler bulabilirsin. Kütüphaneleri keşfettikçe tarihin farklı dönemlerinde 
           kitap okumanın ne kadar önemsendiğini anlayacaksın. Üstelik bu zaman yolculuğu içeren, heyecanlı ve ilham dolu bir keşif olacak. Kütüphanelerle birlikte 
           yazarların yaratıcı dünyasına evlerine ve müzelerine yapacağın ziyaretlerle dalabilirsin. 
           
           Bir kitap yazarının hayalgücünden okuruna ulaşana kadar çeşitli duraklara uğrar. Matbaa bu durakların en önemlilerinden biri. Kâğıt ve mürekkep kokan
           matbaaları ziyaret edebilir, Basın Müzesi’nde eski basın makinelerini keşfedebilirsin! 
    
           Rotayı keşfetmek için sayfayı aşağı kaydır ve maceraya başla! 

         </p>
         </section>
        
        <section id="okumabir">
        <h3>Topkapı Sarayı Elyazmaları Müzesi</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/topkapı.png"/>
          
         </section>
       <section id="okumaiki">
        <h3>İstanbul Arkeoloji Müzesi</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/arkeoloji.png"/>
          
         </section>

        <section id="okumaüç">
        <h3>Çelik Gülersoy İstanbul Kitaplığı</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/çelikgülersoy.png"/>
          
          </section>
          
        <section id="okumadört">
        <h3>Ahmet Hamdi Tanpınar Edebiyat Evi</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/ahmethamdi.png"/>
          
         </section>
          
        <section id="okumabeş">
        <h3>Beyazıt Devlet Kütüphanesi</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/beyazıt.png"/>
          
         </section>
          
        <section id="okumaaltı">
        <h3>Yahya Kemal Müzesi</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/yahyakemal.png"/>
          
         </section>
          
        <section id="okumayedi">
        <h3>Basın Müzesi</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/basınmüzesi.png"/>
          
         </section>
          
        <section id="okumasekiz">
        <h3>Orhan Kemal İl Halk Kütüphanesi</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/surpkevork.png"/>
          
         </section>
          
        <section id="okumadokuz">
        <h3>Süleymaniye Kütüphanesi</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/süleymaniyekutup.png"/>
          
         </section>
          
        <section id="okumaon">
        <h3>Kadın Eserleri Kütüphanesi</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/kadıneserleri.png"/>
          
         </section>
          
        <section id="okumaonbir">
        <h3>Orhan Kemal'in Evi</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/orhankemalev.png"/>
          
        </section>
    
    <h2> Nirengiler Rotası <h2>
                
    <section id="nirengibir">
        <h3>Topkapı Sarayı</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/topkapısarayı.png"/>
        
        </section>
          
     <section id="nirengiiki">
        <h3>Sultan Ahmet Camisi</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/sultanahmet.png"/>
      </section>
          
     <section id="nirengiüç">
        <h3>Ayasofya</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/ayasofya.png"/>
      </section>
         
    <section id="nirengidört">
        <h3>Beyazıt Kulesi</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/beyazit.png"/>
        <p> <i> Tepebaşı Bahçesi </i> <br/></p>
        </section>
               
     <section id="nirengibeş">
        <h3>Süleymaniye Camisi</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/süleymaniye.png"/>
        <p> Cenevizliler tarafından şehri korumak için 1348 yılında yapıldığı tahmin edilen 
          Galata Surları'nın kulelerinden biri.  <br/></p>
      </section>
          
    <section id="nirengialtı">
        <h3>Yeni Cami</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/yenicami.png"/>
     
          </section>
            
      <section id="nirengiyedi">
        <h3>Bulgar Kilisesi</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/bulgar kilisesi.png"/>

        <p> 1870'li yıllardan Abraham Salomon Kamondo tarafından yaptırıldı. Kamondo'nun merdivenleri 
          Alman Okulu'na giden torunlarının yokuştan rahat inip çıksınlar diye yaptırdığı söylenir.  <br/></p>
      </section>
          
       <section id="nirengisekiz">
        <h3>Kızıl Mektep</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/kızılmektep.png"/>
         
         </section>
         
        <section id="nirengidokuz">
        <h3>Kariye Müzesi</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/kariye.png"/>
          
          </section>
          
        <section id="nirengion">
        <h3>Tekfur Sarayı</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/tekfur.png"/>
          
          </section>
          
        <section id="nirengionbir">
        <h3>Yedikule Zindanları</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/yedikule.png"/>
          
         </section>
            
        <section id="nirengioniki">
        <h3>Surp Kevork Kilisesi</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/surpkevork.png"/>
          
          <h2> Sütunlar Rotası <h2>
          
    <section id="Milion">
        <h3>Milyon Taşı</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/milion taşı.png"/>
      <iframe width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/679500431&color=%23e8d208&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true"></iframe><div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/gizem-kiygi" title="Gizem KIYGI" target="_blank" style="color: #cccccc; text-decoration: none;">Gizem KIYGI</a> · <a href="https://soundcloud.com/gizem-kiygi/bernard-van-leer-yigit-aksakoglu-ve-neslihan-ozturk" title="Bernard Van Leer - Yiğit Aksakoğlu Ve Neslihan Öztürk" target="_blank" style="color: #cccccc; text-decoration: none;">Bernard Van Leer - Yiğit Aksakoğlu Ve Neslihan Öztürk</a></div>
        </section>

    <section id="sütunbir">
        <h3>Theodosius Sütunu</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/theodosius.png"/>
      </section>

    <section id="sütuniki">
        <h3>Yılanlı Sütun</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/yılanlısütun.png"/>
        <p> MÖ 479'da Yunan şehirlerinin Pers ordusunu yenmesi şerefine silahların eritilmesiyle yapılmış, MS 324'te
            I. Konstantin tarafından İstanbul'a getirilmiştir. <br/></p>
      </section>
            
      <section id="sütunüç">
        <h3>Örme Dikilitaş</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/örme.png"/>
        <p> MÖ 479'da Yunan şehirlerinin Pers ordusunu yenmesi şerefine silahların eritilmesiyle yapılmış, MS 324'te
            I. Konstantin tarafından İstanbul'a getirilmiştir. <br/></p>
      </section>
          
     <section id="sütundört">
        <h3>Gotlar Sütunu</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/gotlarsütunu.png"/>
        </section>
            
      <section id="sütunbes">
        <h3>Çemberlitaş Sütunu</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/çemberlitaşsütunu.png"/>
      </section>
            
       <section id="forum">
        <h3>Theodosius Forumu</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/forum.png"/>
      </section>
          
    <section id="sütunalti">
        <h3>Arcadius Sütunu</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/arcadius.png"/>
      
      </section>

    <section id="sütunyedi">
        <h3>Kıztaşı</h3>
        <img src="//uploads.knightlab.com/storymapjs/9f356449ced6b14b6ae0897238ec6105/istanbulu-okuyorum/_images/kıztaşı.png"/>
      
      </section>
            </p>
          </section
          
      <section id="end">
       <h3> <span class="fin"> son </span> </h3>
      </section>
               
    </div>
    

      <script>

    mapboxgl.accessToken = 'pk.eyJ1Ijoic2VoaXJkZWRla3RpZmkiLCJhIjoiY2tjcWtzc2VuMDUxcjJwanZsc3MwdGxzcCJ9.eaoySbeuv2bJFa54yIlqyw';

    // create the map
    var map = window.map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/sehirdedektifi/ckcqmdjg200x41jqoqci05k1a',
      
  
        center: [28.97819, 41.0339],
        zoom: 12,
        bearing: 2,
        pitch: 0,
        hash: true,
        container: 'map',
        antialias: true }
    );
       var marker = new mapboxgl.Marker()
       .setLngLat([28.97802, 41.00806])
       .addTo(map);
                            
        var markerbir = new mapboxgl.Marker()
       .setLngLat([28.97538, 41.00591])
       .addTo(map);
        
        var markeriki = new mapboxgl.Marker()
       .setLngLat([28.97510, 41.00566])
       .addTo(map);
        
        var markerüç = new mapboxgl.Marker()
       .setLngLat([28.97482, 41.00540])
       .addTo(map);
        
        var markerdört = new mapboxgl.Marker()
       .setLngLat([28.98568, 41.01464])
       .addTo(map);
        
        var markerbes = new mapboxgl.Marker()
       .setLngLat([28.97129, 41.00855])
       .addTo(map);
        
        var markerforum = new mapboxgl.Marker()
       .setLngLat([28.97129, 41.00855])
       .addTo(map);
        
        var markeralti = new mapboxgl.Marker()
       .setLngLat([28.940888, 41.0077371])
       .addTo(map);
        
        var markeryedi = new mapboxgl.Marker()
       .setLngLat([28.95028, 41.01544])
       .addTo(map);
        
        var markersekiz = new mapboxgl.Marker()
       .setLngLat([28.98292, 41.01056])
       .addTo(map);
        
        var markerdokuz = new mapboxgl.Marker()
       .setLngLat([28.98137, 41.01164])
       .addTo(map);
        
        var markeron = new mapboxgl.Marker()
       .setLngLat([28.97997, 41.00959])
       .addTo(map);
        
        var markeronbir = new mapboxgl.Marker()
       .setLngLat([28.97839, 41.01104])
       .addTo(map);
        
        var markeroniki = new mapboxgl.Marker()
       .setLngLat([28.96572, 41.01085])
       .addTo(map);
        
        var markeronüç = new mapboxgl.Marker()
       .setLngLat([28.97252, 41.00814])
       .addTo(map);
        
        var markerondört = new mapboxgl.Marker()
       .setLngLat([28.97233, 41.00836])
       .addTo(map);
        
        var markeronbeş = new mapboxgl.Marker()
       .setLngLat([28.96260, 41.00926])
       .addTo(map);
        
        var markeronaltı = new mapboxgl.Marker()
       .setLngLat([28.96246, 41.01531])
       .addTo(map);
        
        var markeronyedi = new mapboxgl.Marker()
       .setLngLat([28.95049, 41.03073])
       .addTo(map);
        
        var markeronsekiz = new mapboxgl.Marker()
       .setLngLat([28.95802, 41.02407])
       .addTo(map);
        
        

    // Display buildings in 3D
    map.on('load', function() {

    var layers = map.getStyle().layers;
    var labelLayerId;
    for (var i = 0; i < layers.length; i++) {
        if (layers[i].type === 'symbol' && layers[i].layout['text-field']) {
            labelLayerId = layers[i].id; 
            break; 
    }}

    map.addLayer({
        'id': '3d-buildings',
        'source': 'composite',
        'source-layer': 'building',
        'filter': ['==', 'extrude', 'true'],
        'type': 'fill-extrusion',
        'minzoom': 15,
        'paint': {
        'fill-extrusion-color': '#aaa',
        // use an 'interpolate' expression to add a smooth transition effect to the
        // buildings as the user zooms in
        'fill-extrusion-height': ["interpolate", ["linear"], ["zoom"], 15, 0, 15.05, ["get", "height"]],
        'fill-extrusion-base': ["interpolate", ["linear"], ["zoom"], 15, 0, 15.05, ["get", "min_height"]],
        'fill-extrusion-opacity': .6 }
    }, labelLayerId); 
   
     
        
        });
        
        
    // SECTIONS
    var chapters = {
        'intro': {
        center: [28.97819, 41.0339],
        zoom: 12,
        bearing: 2,
        pitch: 0,
        },
        'Milion': {
        duration: 6000,
        center: [28.97802, 41.00806],
        bearing: -30,
        zoom: 16,
        pitch: 30,
        speed: 0.3
        },
        'sütunbir': {
        duration: 6000,
        bearing: 0,
        center: [28.97538, 41.00591],
        bearing: -40,
        zoom: 16,
        pitch: 0,
        speed: 0.1
        },
        'sütuniki': {
        duration: 6000,
        center: [28.97510, 41.00566],
        bearing: -30,
        zoom: 18,
        pitch: 30,
        speed: 0.3
        },
        'sütunüç': {
        duration: 6000,
        center: [28.97482, 41.00540],
        bearing: -30,
        zoom: 18,
        pitch: 30,
        speed: 0.3
        },
        'sütundört': {
        duration: 6000,
        bearing: 0,
        center: [28.98568, 41.01464],
        bearing: 0,
        zoom: 18,
        pitch: 0,
        speed: 0.25
        },
        'sütunbes': {
        duration: 6000,
        bearing: -15,
        center: [28.97129, 41.00855],
        zoom: 15.6,
        pitch: 0,
        speed: 0.3
        },
       'forum': {
        duration: 6000,
        bearing: -15,
        center: [28.9603761, 41.0097232],
        zoom: 15.6,
        pitch: 0,
        speed: 0.3
        },
        'sütunalti': {
        duration: 6000,
        center: [28.940888, 41.0077371],
        bearing: -30,
        zoom: 18,
        pitch: 30,
        speed: 0.3
        },
        'sütunyedi': {
        duration: 6000,
        center: [28.95028, 41.01544],
        bearing: -30,
        zoom: 16.8,
        pitch: 30,
        speed: 0.2
        },
        'nirengibir': {
        duration: 6000,
        bearing: 0,
        center: [28.98402, 41.01281],
        bearing: -75,
        zoom: 16.7,
        pitch: 20,
        speed: 0.2
        },
        'nirengiiki': {
        duration: 6000,
        center: [28.97679, 41.00530],
        bearing: -40,
        zoom: 16.2,
        pitch: 10,
        speed: 0.3
        },
        'nirengiüç': {
        duration: 6000,
        center: [28.97991, 41.00855],    
        bearing: -40,
        zoom: 16.2,
        pitch: 10,
        speed: 0.3
        },
        'nirengidört': {
        duration: 6000,
        center: [28.96492, 41.01281],
        bearing: -40,
        zoom: 16,
        pitch: 10,
        speed: 0.3
        },
        'nirengibeş': {
        duration: 6000,
        center: [28.96383, 41.01624],
        bearing: -30,
        zoom: 16.2,
        pitch: 50,
        speed: 0.3  
        },
        'nirengialtı': {
        duration: 6000,
        center: [28.97224, 41.01691],
        bearing: -30.8,
        zoom: 16.8,
        pitch: 12,
        speed: 0.3
        },
        'nirengiyedi': {
        duration: 6000,
        center: [28.94978, 41.03181],
        bearing: -30,
        zoom: 18,
        pitch: 20,
        speed: 0.2
        },
        'nirengisekiz': {
        duration: 6000,
        bearing: -40,
        center: [28.94939, 41.02929],
        zoom: 16.2,
        pitch: 20,
        speed: 0.3
        },
        'nirengidokuz': {
        duration: 6000,
        bearing: -30,
        center: [28.93902, 41.03120],
        zoom: 16.2,
        pitch: 20,
        speed: 0.3
        },
        'nirengion': {
        duration: 6000,
        center: [28.94043, 41.03372],
        bearing: -40,
        zoom: 18,
        pitch: 20,
        speed: 0.2
        },
        'nirengionbir': {
        duration: 6000,
        center: [28.92331, 40.99303],
        bearing: -30.8,
        zoom: 16.8,
        pitch: 20,
        speed: 0.3
        },
        'nirengioniki': {
        duration: 6000,
        center: [28.93315, 41.00186],
        bearing: -30.8,
        zoom: 16.8,
        pitch: 20,
        speed: 0.3
        },
        'okumabir': {
        duration: 6000,
        center: [28.98292, 41.01056],    
        bearing: -40,
        zoom: 16.2,
        pitch: 10,
        speed: 0.3
        },
        'okumaiki': {
        duration: 6000,
        center: [28.98137, 41.01164],    
        bearing: -40,
        zoom: 16.2,
        pitch: 10,
        speed: 0.3
        },
        'okumaüç': {
        duration: 6000,
        center: [28.97997, 41.00959],    
        bearing: -40,
        zoom: 16.2,
        pitch: 10,
        speed: 0.3
        },
        'okumadört': {
        duration: 6000,
        center: [28.97839, 41.01104],    
        bearing: -40,
        zoom: 16.2,
        pitch: 10,
        speed: 0.3
        },
        'okumabeş': {
        duration: 6000,
        center: [28.96572, 41.01085],    
        bearing: -40,
        zoom: 16.2,
        pitch: 10,
        speed: 0.3
        },
        'okumaaltı': {
        duration: 6000,
        center: [28.97252, 41.00814],    
        bearing: -40,
        zoom: 16.2,
        pitch: 10,
        speed: 0.3
        },
        'okumayedi': {
        duration: 6000,
        center: [28.97233, 41.00836],    
        bearing: -40,
        zoom: 16.2,
        pitch: 10,
        speed: 0.3
        },
        'okumasekiz': {
        duration: 6000,
        center: [28.96260, 41.00926],    
        bearing: -40,
        zoom: 16.2,
        pitch: 10,
        speed: 0.3
        },
        'okumadokuz': {
        duration: 6000,
        center: [28.96246, 41.01531],    
        bearing: -40,
        zoom: 16.2,
        pitch: 10,
        speed: 0.3
        },
        'okumaon': {
        duration: 6000,
        center: [28.95049, 41.03073],    
        bearing: -40,
        zoom: 16.2,
        pitch: 10,
        speed: 0.3
        },
        'okumaonbir': {
        duration: 6000,
        center: [28.95802, 41.02407],    
        bearing: -40,
        zoom: 16.2,
        pitch: 10,
        speed: 0.3
        },
        
        'end': {
        duration: 6000,
        bearing: 0,
        center: [28.975287, 41.022190],
        zoom: 16,
        pitch: 0
        }

        };
        
        

    //Function to run the story
    // On every scroll event, check which element is on screen
    window.onscroll = function() {
        var chapterNames = Object.keys(chapters);
        for (var i = 0; i < chapterNames.length; i++) {
            var chapterName = chapterNames[i];
                if (isElementOnScreen(chapterName)) {
                    setActiveChapter(chapterName);
                    break; }}
    };
    var activeChapterName = 'intro'; //Change this to match the first chapter of your story
    function setActiveChapter(chapterName) {
        if (chapterName === activeChapterName) return;
        map.flyTo(chapters[chapterName]);
        document.getElementById(chapterName).setAttribute('class', 'active');
        document.getElementById(activeChapterName).setAttribute('class', '');
        activeChapterName = chapterName;
        
      if (activeChapterName == 'esayan') { map.addLayer({
      'id': 'esayan',
      'type': 'fill',
      'source': {
          'type': 'geojson',
          'data': {
          'type': 'Feature',
          'geometry': {
          'type': 'Polygon',
          'coordinates':
      [
          [
            [
              28.983832,
              41.035107
            ],
            [
              28.983936,
              41.035187
            ],
            [
              28.984244,
              41.034965
            ],
            [
              28.984159,
              41.034871
            ],
            [
              28.984071,
              41.034925
            ],
            [
              28.984089,
              41.034959
            ],
            [
              28.984051,
              41.034961
            ],
            [
              28.983832,
              41.035107
            ]
          ]
        ] } } },
      'layout': {},
      'paint': {
      'fill-color': '#f88c99',
      'fill-opacity': 0.7
      }
      }); }
       
      else if (activeChapterName == 'beyoglusk' ) { map.addLayer({
      'id': 'ataturk',
      'type': 'fill',
      'source': {
          'type': 'geojson',
          'data': {
          'type': 'Feature',
          'geometry': {
          'type': 'Polygon',
          'coordinates':
      [
                     [
            [
              28.982564,
              41.034477
            ],
            [
              28.982663,
              41.034539
            ],
            [
              28.982738,
              41.034477
            ],
            [
              28.982634,
              41.034408
            ],
            [
              28.982564,
              41.034477
            ]
          ]
                    ] } } },
      'layout': {},
      'paint': {
      'fill-color': '#f88c99',
      'fill-opacity': 0.7
      }
      }); 
      map.removeLayer('esayan');
      }
      else if (activeChapterName == 'tarlabasi') { map.removeLayer('beyoglusk'); }

      else if (activeChapterName == 'ttm' ) { map.addLayer({
      'id': 'ttm',
      'type': 'fill',
      'source': {
          'type': 'geojson',
          'data': {
          'type': 'Feature',
          'geometry': {
          'type': 'Polygon',
          'coordinates':
      [
      [
            [
              28.978006,
              41.037977
            ],
            [
              28.978041,
              41.038002
            ],
            [
              28.978124,
              41.037946
            ],
            [
              28.978095,
              41.037904
            ],
            [
              28.978006,
              41.037977
            ]
          ]
                    ] } } },
      'layout': {},
      'paint': {
      'fill-color': '#f88c99',
      'fill-opacity': 0.7
      }
      }); 
      }
      
      else if (activeChapterName == 'galatasaray' ) { map.addLayer({
      'id': 'galatasaray',
      'type': 'fill',
      'source': {
          'type': 'geojson',
          'data': {
          'type': 'Feature',
          'geometry': {
          'type': 'Polygon',
          'coordinates':
      [
      [
            [
              28.978028,
              41.032775
            ],
            [
              28.978227,
              41.032936
            ],
            [
              28.978456,
              41.032786
            ],
            [
              28.978701,
              41.032975
            ],
            [
              28.9785,
              41.033131
            ],
            [
              28.978681,
              41.033286
            ],
            [
              28.979369,
              41.032808
            ],
            [
              28.979509,
              41.032921
            ],
            [
              28.979605,
              41.032837
            ],
            [
              28.978831,
              41.032208
            ],
            [
              28.978562,
              41.03241
            ],
            [
              28.978522,
              41.032378
            ],
            [
              28.978274,
              41.032546
            ],
            [
              28.978315,
              41.032587
            ],
            [
              28.978028,
              41.032775
            ]
          ]
                    ] } } },
      'layout': {},
      'paint': {
      'fill-color': '#f88c99',
      'fill-opacity': 0.7
      }
      }); 
      map.removeLayer('ttm');
      }
      else if (activeChapterName == 'postacilar' ) { map.addLayer({
      'id': 'postacilar',
      'type': 'fill',
      'source': {
          'type': 'geojson',
          'data': {
          'type': 'Feature',
          'geometry': {
          'type': 'Polygon',
          'coordinates':
      [
        [
            [
              28.975719,
              41.030542
            ],
            [
              28.975702,
              41.030492
            ],
            [
              28.976416,
              41.030336
            ],
            [
              28.976347,
              41.030151
            ],
            [
              28.976699,
              41.030099
            ],
            [
              28.977258,
              41.030096
            ],
            [
              28.977252,
              41.030144
            ],
            [
              28.976738,
              41.030137
            ],
            [
              28.976407,
              41.030182
            ],
            [
              28.976478,
              41.030373
            ],
            [
              28.975719,
              41.030542
            ]
          ]
                ] } } },
      'layout': {},
      'paint': {
      'fill-color': '#356fc0',
      'fill-opacity': 0.6
      }
      }); 
      map.removeLayer('galatasaray');
      }

      else if (activeChapterName == 'kumbaraci') { map.removeLayer('postacilar'); }

      else if (activeChapterName == 'sur' ) { map.addLayer({
      'id': 'sur',
      'type': 'fill',
      'source': {
          'type': 'geojson',
          'data': {
          'type': 'Feature',
          'geometry': { 
          'type': 'Polygon',
          'coordinates':
      [
         [
            [
              28.972705,
              41.025118
            ],
            [
              28.972762,
              41.025065
            ],
            [
              28.97305,
              41.02518
            ],
            [
              28.973005,
              41.025239
            ],
            [
              28.972705,
              41.025118
            ]
          ],
 
          [
            [
              28.97118,
              41.022385
            ],
            [
              28.97122,
              41.022489
            ],
            [
              28.971182,
              41.022498
            ],
            [
              28.971138,
              41.022396
            ],
            [
              28.97118,
              41.022385
            ]
          ], 

          [
            [
              28.969066,
              41.025091
            ],
            [
              28.969161,
              41.025019
            ],
            [
              28.968852,
              41.024727
            ],
            [
              28.968753,
              41.02479
            ],
            [
              28.969066,
              41.025091
            ]
          ]
        
        ]         
                 } } },
      'layout': {},
      'paint': {
      'fill-color': '#356fc0',
      'fill-opacity': 0.6
      }
      }); 
      }
      else if (activeChapterName == 'kamondo' ) { map.addLayer({
      'id': 'kamondo',
      'type': 'fill',
      'source': {
          'type': 'geojson',
          'data': {
          'type': 'Feature',
          'geometry': {
          'type': 'Polygon',
          'coordinates':
      [
      [
            [
              28.973722,
              41.023909
            ],
            [
              28.973799,
              41.02404
            ],
            [
              28.973829,
              41.024028
            ],
            [
              28.973753,
              41.023896
            ],
            [
              28.973722,
              41.023909
            ]
          ]
                ] } } },
      'layout': {},
      'paint': {
      'fill-color': '#356fc0',
      'fill-opacity': 0.5
      }
      }); 
      map.removeLayer('sur');
      }
      else if (activeChapterName == 'karakoy') { map.removeLayer('kamondo'); }
      else return
      
    };
        
       

    function isElementOnScreen(id) {
        var element = document.getElementById(id);
        var bounds = element.getBoundingClientRect();
        return bounds.top < window.innerHeight && bounds.bottom > 0;
    }

</script>

</body>
</html>
